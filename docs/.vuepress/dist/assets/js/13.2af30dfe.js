(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{296:function(e,t,r){},301:function(e,t,r){},302:function(e,t,r){"use strict";r(295);var n=r(24),a=r(8),i={model:{event:"input",prop:"text"},name:"TextField",props:{maxLength:Number,keyboardType:{type:String,default:"text"},secure:{type:Boolean,default:!1},text:String,hint:String,editable:{type:Boolean,default:!0},autocorrect:Boolean},directives:{"common-directive":n.a},methods:{updateValue:function(e){this.$emit("textChange",e),this.$emit("input",e.target.value)}},computed:{handleKeyboardType:function(){switch(this.keyboardType){case"phone":return"tel";case"datetime":return"datetime-local";case"email":return"email";case"url":return"url";case"number":return"number";default:return"text"}}},mixins:[a.a]},o=(r(303),r(0)),l=Object(o.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"common-directive",rawName:"v-common-directive"}],staticClass:"vxp-textfield",attrs:{placeholder:e.hint,disabled:!e.editable,maxlength:e.maxLength,type:e.secure?"password":e.handleKeyboardType,spellcheck:e.autocorrect},domProps:{value:e.text},on:{blur:function(t){return e.$emit("blur",t)},focus:function(t){return e.$emit("focus",t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("returnPress",t)},input:e.updateValue}})},[],!1,null,"967a7238",null);t.a=l.exports},303:function(e,t,r){"use strict";var n=r(296);r.n(n).a},304:function(e,t,r){"use strict";var n=r(24),a=r(8),i={name:"FlexboxLayout",props:{flexDirection:String,flexWrap:String,justifyContent:String,alignItems:String,alignContent:String},directives:{"common-directive":n.a},mixins:[a.a]},o=(r(306),r(0)),l=Object(o.a)(i,function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"common-directive",rawName:"v-common-directive"}],staticClass:"vxp-flexbox-layout",style:{flexDirection:this.flexDirection,flexWrap:this.flexWrap,justifyContent:this.justifyContent,alignItems:this.alignItems,alignContent:this.alignContent}},[this._t("default")],2)},[],!1,null,null,null);t.a=l.exports},305:function(e,t,r){"use strict";r(295);var n=r(297),a={name:"VxpLabel",props:{text:{type:[String,Number],default:""},textWrap:{type:Boolean,default:!1}},components:{Label:n.a}},i=r(0),o=Object(i.a)(a,function(){var e=this.$createElement;return(this._self._c||e)("Label",{attrs:{text:this.text,textWrap:this.textWrap}})},[],!1,null,null,null);t.a=o.exports},306:function(e,t,r){"use strict";var n=r(301);r.n(n).a},309:function(e,t,r){var n=r(2),a=r(18),i=r(57),o=r(310),l=r(9).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:o.f(e)})}},310:function(e,t,r){t.f=r(1)},315:function(e,t,r){r(309)("asyncIterator")},316:function(e,t,r){"use strict";var n=r(2),a=r(15),i=r(6),o=r(7),l=r(11),s=r(60).KEY,u=r(5),c=r(59),p=r(28),d=r(27),f=r(1),m=r(310),h=r(309),x=r(317),g=r(318),v=r(3),b=r(4),y=r(26),_=r(75),S=r(58),E=r(76),k=r(319),w=r(102),L=r(9),C=r(25),F=w.f,P=L.f,O=k.f,V=n.Symbol,T=n.JSON,z=T&&T.stringify,j=f("_hidden"),U=f("toPrimitive"),I={}.propertyIsEnumerable,N=c("symbol-registry"),$=c("symbols"),M=c("op-symbols"),D=Object.prototype,W="function"==typeof V,H=n.QObject,R=!H||!H.prototype||!H.prototype.findChild,A=i&&u(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=F(D,t);n&&delete D[t],P(e,t,r),n&&e!==D&&P(D,t,n)}:P,B=function(e){var t=$[e]=E(V.prototype);return t._k=e,t},J=W&&"symbol"==typeof V.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof V},K=function(e,t,r){return e===D&&K(M,t,r),v(e),t=_(t,!0),v(r),a($,t)?(r.enumerable?(a(e,j)&&e[j][t]&&(e[j][t]=!1),r=E(r,{enumerable:S(0,!1)})):(a(e,j)||P(e,j,S(1,{})),e[j][t]=!0),A(e,t,r)):P(e,t,r)},q=function(e,t){v(e);for(var r,n=x(t=y(t)),a=0,i=n.length;i>a;)K(e,r=n[a++],t[r]);return e},G=function(e){var t=I.call(this,e=_(e,!0));return!(this===D&&a($,e)&&!a(M,e))&&(!(t||!a(this,e)||!a($,e)||a(this,j)&&this[j][e])||t)},Q=function(e,t){if(e=y(e),t=_(t,!0),e!==D||!a($,t)||a(M,t)){var r=F(e,t);return!r||!a($,t)||a(e,j)&&e[j][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=O(y(e)),n=[],i=0;r.length>i;)a($,t=r[i++])||t==j||t==s||n.push(t);return n},Y=function(e){for(var t,r=e===D,n=O(r?M:y(e)),i=[],o=0;n.length>o;)!a($,t=n[o++])||r&&!a(D,t)||i.push($[t]);return i};W||(l((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===D&&t.call(M,r),a(this,j)&&a(this[j],e)&&(this[j][e]=!1),A(this,e,S(1,r))};return i&&R&&A(D,e,{configurable:!0,set:t}),B(e)}).prototype,"toString",function(){return this._k}),w.f=Q,L.f=K,r(99).f=k.f=X,r(78).f=G,r(103).f=Y,i&&!r(57)&&l(D,"propertyIsEnumerable",G,!0),m.f=function(e){return B(f(e))}),o(o.G+o.W+o.F*!W,{Symbol:V});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)f(Z[ee++]);for(var te=C(f.store),re=0;te.length>re;)h(te[re++]);o(o.S+o.F*!W,"Symbol",{for:function(e){return a(N,e+="")?N[e]:N[e]=V(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){R=!0},useSimple:function(){R=!1}}),o(o.S+o.F*!W,"Object",{create:function(e,t){return void 0===t?E(e):q(E(e),t)},defineProperty:K,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Y}),T&&o(o.S+o.F*(!W||u(function(){var e=V();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(b(t)||void 0!==e)&&!J(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,z.apply(T,n)}}),V.prototype[U]||r(12)(V.prototype,U,V.prototype.valueOf),p(V,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},317:function(e,t,r){var n=r(25),a=r(103),i=r(78);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var o,l=r(e),s=i.f,u=0;l.length>u;)s.call(e,o=l[u++])&&t.push(o);return t}},318:function(e,t,r){var n=r(21);e.exports=Array.isArray||function(e){return"Array"==n(e)}},319:function(e,t,r){var n=r(26),a=r(99).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},320:function(e,t,r){"use strict";r(322);var n=r(3),a=r(79),i=r(6),o=/./.toString,l=function(e){r(11)(RegExp.prototype,"toString",e,!0)};r(5)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?l(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)}):"toString"!=o.name&&l(function(){return o.call(this)})},322:function(e,t,r){r(6)&&"g"!=/./g.flags&&r(9).f(RegExp.prototype,"flags",{configurable:!0,get:r(79)})},333:function(e,t,r){},358:function(e,t,r){"use strict";var n=r(333);r.n(n).a},361:function(e,t,r){"use strict";r(295),r(14);var n=r(81),a=r(24),i=r(8),o={name:"Img",props:{src:String,stretch:{type:String,default:"none"},width:[String,Number],height:[String,Number]},computed:{imageSrc:function(){return this.src.replace("~","")},stretchClass:function(){return"vxp-img ".concat("none"!==this.stretch?"vxp-img--"+Object(n.a)(this.stretch):"").trim()}},directives:{"common-directive":a.a},mixins:[i.a]},l=(r(358),r(0)),s=Object(l.a)(o,function(){var e=this,t=e.$createElement;return(e._self._c||t)("img",{directives:[{name:"common-directive",rawName:"v-common-directive"}],class:e.stretchClass,attrs:{src:e.imageSrc,width:e.width,height:e.height},on:{error:function(t){return e.$emit("onLoadError",t)},load:function(t){return e.$emit("onLoad",t)}}})},[],!1,null,null,null).exports,u={name:"VxpImage",props:{src:String,stretch:{type:String,default:"none"},width:[String,Number],height:[String,Number],placeholder:String},components:{Img:s}},c=Object(l.a)(u,function(){var e=this,t=e.$createElement;return(e._self._c||t)("Img",{attrs:{src:e.src,stretch:e.stretch,width:e.width,height:e.height,alt:e.placeholder},on:{onLoadError:function(t){return e.$emit("onLoadError",t)},onLoad:function(t){return e.$emit("onLoad",t)}}})},[],!1,null,null,null);t.a=c.exports},429:function(e,t,r){},430:function(e,t,r){},515:function(e,t,r){"use strict";var n=r(429);r.n(n).a},516:function(e,t,r){"use strict";var n=r(430);r.n(n).a},541:function(e,t,r){"use strict";r.r(t);r(320);var n=r(305),a=r(336),i=r(313),o=(r(295),r(361)),l=r(74),s=r(321),u=(r(31),r(83)),c=r(84),p=(r(104),Object.freeze({file:"file",image:"image",audio:"audio",video:"video",media:"media"})),d=function(){function e(){var t=this;Object(u.a)(this,e),this._inputElement=document.createElement("input"),this._inputElement.type="file",this._inputElement.addEventListener("change",function(e){var r=e.target.files;r.length>t.options.maxNumberFiles?null!==t._errorEventHandler&&"function"==typeof t._errorEventHandler&&t._errorEventHandler("max limit exceeded"):null!==t._selectedEventHandler&&"function"==typeof t._selectedEventHandler&&t._selectedEventHandler(r)}),this._options={maxNumberFiles:1,extensions:[],maxDuration:60},this._selectedEventHandler=null,this._errorEventHandler=null,this._cancelEventHandler=null}return Object(c.a)(e,[{key:"extractFilePath",value:function(e,t){return new Promise(function(r){r({file:e,path:t})})}},{key:"getOptions",value:function(e){var t=[];switch(e.pickerType){case p.image:t=e.extensions.length>0?"":"image/*";break;case p.audio:t=e.extensions.length>0?"":"audio/*";break;case p.video:t=e.extensions.length>0?"":"video/*";break;case p.media:t=e.extensions.length>0?"":"image/*,video/*";break;default:case p.file:t=e.extensions.length>0?"":"*"}return{multipleSelection:e.maxNumberFiles>1,accept:t}}},{key:"open",value:function(){var e=this.getOptions(this.options);this._inputElement.value="",this._inputElement.accept=e.accept,this._inputElement.multiple=e.multipleSelection,this._inputElement.click()}},{key:"on",value:function(e,t){switch(e){case"selected":this._selectedEventHandler=t;break;case"error":this._errorEventHandler=t}}},{key:"pickerTypes",get:function(){return p}},{key:"options",get:function(){return this._options},set:function(e){Object.assign(this._options,e)}}]),e}(),f=(r(29),r(315),r(316),r(10),function(){function e(t){var r=t.file,n=t.target,a=t.headers,i=t.onProgress;Object(u.a)(this,e),this.files=[],r&&this.files.push(r),this.timeout=3e4,this.xhr=new XMLHttpRequest,this.formData=new FormData,this.target=n,this.headers=a||{},this.onProgress=i}return Object(c.a)(e,[{key:"cancel",value:function(){this.xhr.abort()}},{key:"upload",value:function(){var e=this;return new Promise(function(t,r){if(e.target)if(0!==e.files.length){if(e.xhr.addEventListener("readystatechange",function(e){if(e&&e.target){var n=e.target,a=n.status,i=n.responseText,o=n.readyState,l=n.statusText;if(a&&o&&i&&4===o)if(200===a)try{t(i)}catch(e){r(e)}else r("".concat(a," - ").concat(l))}},!1),e.xhr.upload.addEventListener("progress",function(t){e.onProgress&&e.onProgress(t.lengthComputable?t.loaded/t.total*100:0)},!1),e.xhr.upload.addEventListener("error",function(e){r(e)},!1),e.xhr.upload.addEventListener("abort",function(){r("Aborted")},!1),e.xhr.timeout=e.timeout,e.xhr.open("POST",e.target),e.headers)for(var n in e.headers)e.headers.hasOwnProperty(n)&&e.xhr.setRequestHeader(n,e.headers[n]);var a=!0,i=!1,o=void 0;try{for(var l,s=e.files[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;e.formData.append("Files",u,u.name||"user_file")}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}e.xhr.send(e.formData)}else r("Files not added");else r("Upload target not set")})}}]),e}()),m={name:"VxpImageUploader",data:function(){return{filePicker:null,fileUploader:null}},props:{src:{type:String,default:" "},size:{type:Number,default:100},maxSize:{type:Number,default:10485760},disabled:{type:Boolean,default:!1},target:{type:String,default:""}},components:{VxpImage:o.a,VxpLabel:n.a,StackLayout:l.a,AbsoluteLayout:s.a},mounted:function(){var e=this;this.filePicker=new d,this.filePicker.options={pickerType:this.filePicker.pickerTypes.media,extensions:[],maxNumberFiles:1},this.filePicker.on("selected",function(t){if(t.length>0){var r=t[0];e.filePicker.extractFilePath(r).then(function(t){0!==t.file.size&&(t.file.size>e.maxSize?e.$emit("onMaxFileError"):e.onFileSelected(t.file))}).catch(function(){console.error("error occured while extracting file information!")})}})},computed:{iconMargin:function(){return this.size-30}},methods:{onImageTap:function(){this.disabled||this.filePicker.open()},onProgress:function(e){console.log("file upload progress - %"+e),this.$emit("onUploadProgress",e)},onFileSelected:function(e){var t=this,r=this.target;this.fileUploader=new f({file:e,target:r,headers:{},onProgress:function(e){t.onProgress(e)}}),this.fileUploader.upload().then(function(e){console.log("file uploaded!",e),t.$emit("onUploadCompleted",e)},function(e){console.log("error occured during file upload!",e),t.$emit("onUploadError",e)})}}},h=(r(515),r(0)),x=Object(h.a)(m,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("StackLayout",{staticClass:"vxp-image-uploader",attrs:{width:e.size,height:e.size},on:{tap:e.onImageTap}},[r("AbsoluteLayout",[r("VxpImage",{staticClass:"vxp-image-uploader__img",attrs:{src:e.src,stretch:"aspectFill"}}),e._v(" "),e.disabled?e._e():r("VxpLabel",{staticClass:"vxp-image-uploader__edit_img",attrs:{top:e.iconMargin,left:e.iconMargin}})],1)],1)},[],!1,null,null,null).exports,g=r(302),v={name:"VxpImageUploaderLiveDemo",data:function(){return{uploaderSrc:"../images/logo.png",uploaderSize:"100",uploaderMaxSize:10485760..toString(),uploaderDisabled:!1,uploaderTarget:"http://localhost:9000/upload",uploaderEvents:[]}},components:{FlexboxLayout:r(304).a,VxpLabel:n.a,VxpButton:a.a,StackLayout:l.a,TextField:g.a,VxpImageUploader:x,VxpCheckbox:i.a},methods:{onMaxFileError:function(){this.uploaderEvents.push("Max file size error.")},onUploadError:function(e){this.uploaderEvents.push("Upload error.")},onUploadProgress:function(e){this.uploaderEvents.push("Upload progress - %"+e)},onUploadCompleted:function(e){this.uploaderEvents.push("Upload completed! Response: "+e)}}},b=(r(516),Object(h.a)(v,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("StackLayout",[r("StackLayout",{staticClass:"demo-panel"},[r("VxpLabel",{staticClass:"demo-panel__title",attrs:{text:"VxpImageUploader Properties"}}),e._v(" "),r("FlexboxLayout",{attrs:{flexWrap:"wrap"}},[r("VxpLabel",{staticClass:"option-label",attrs:{text:"Src"}}),e._v(" "),r("TextField",{staticClass:"option-input",attrs:{id:"vxpimageuploader_src_input"},model:{value:e.uploaderSrc,callback:function(t){e.uploaderSrc=t},expression:"uploaderSrc"}})],1),e._v(" "),r("FlexboxLayout",{attrs:{flexWrap:"wrap"}},[r("VxpLabel",{staticClass:"option-label",attrs:{text:"Size"}}),e._v(" "),r("TextField",{staticClass:"option-input",attrs:{id:"vxpimageuploader_size_input"},model:{value:e.uploaderSize,callback:function(t){e.uploaderSize=t},expression:"uploaderSize"}}),e._v(" "),r("VxpLabel",{attrs:{text:"(in pixels)"}})],1),e._v(" "),r("FlexboxLayout",{attrs:{flexWrap:"wrap"}},[r("VxpLabel",{staticClass:"option-label",attrs:{text:"Max File Size"}}),e._v(" "),r("TextField",{staticClass:"option-input",attrs:{id:"vxpimageuploader_maxfilesize_input"},model:{value:e.uploaderMaxSize,callback:function(t){e.uploaderMaxSize=t},expression:"uploaderMaxSize"}}),e._v(" "),r("VxpLabel",{attrs:{text:"(in bytes)"}})],1),e._v(" "),r("FlexboxLayout",{attrs:{flexWrap:"wrap"}},[r("VxpLabel",{staticClass:"option-label",attrs:{text:"Disabled"}}),e._v(" "),r("VxpCheckbox",{attrs:{id:"vxpimageuploader_disabled_cb"},model:{value:e.uploaderDisabled,callback:function(t){e.uploaderDisabled=t},expression:"uploaderDisabled"}})],1),e._v(" "),r("FlexboxLayout",{attrs:{flexWrap:"wrap"}},[r("VxpLabel",{staticClass:"option-label",attrs:{text:"Target"}}),e._v(" "),r("TextField",{staticClass:"option-input",attrs:{id:"vxpimageuploader_target_input"},model:{value:e.uploaderTarget,callback:function(t){e.uploaderTarget=t},expression:"uploaderTarget"}})],1)],1),e._v(" "),r("StackLayout",{staticClass:"demo-panel"},[r("VxpLabel",{staticClass:"demo-panel__title",attrs:{text:"Rendered Result"}}),e._v(" "),r("VxpImageUploader",{attrs:{id:"vxpimageuploader_component",src:e.uploaderSrc,disabled:e.uploaderDisabled,target:e.uploaderTarget,size:parseInt(e.uploaderSize),maxSize:parseInt(e.uploaderMaxSize)},on:{onMaxFileError:e.onMaxFileError,onUploadError:e.onUploadError,onUploadProgress:e.onUploadProgress,onUploadCompleted:e.onUploadCompleted}})],1),e._v(" "),r("StackLayout",{staticClass:"demo-panel"},[r("FlexboxLayout",{attrs:{flexWrap:"wrap"}},[r("VxpLabel",{staticClass:"demo-panel__title",attrs:{text:"Events"}}),e._v(" "),r("VxpButton",{staticStyle:{"margin-left":"20px"},attrs:{id:"vxpimageuploader_clearevents_button",text:"Clear"},on:{tap:function(t){e.uploaderEvents=[]}}})],1),e._v(" "),e._l(e.uploaderEvents,function(e,t){return r("VxpLabel",{key:t,attrs:{id:"vxpimageuploader_event"+t+"_label",text:e,textWrap:!0}})})],2)],1)},[],!1,null,"a55559d8",null));t.default=b.exports}}]);